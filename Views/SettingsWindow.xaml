<Window x:Class="AI_Mouse.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:AI_Mouse.Models"
        mc:Ignorable="d"
        Title="ì„¤ì • - AI Mouse"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize"
        Width="450"
        Height="400"
        ShowInTaskbar="False"
        d:DesignHeight="400" d:DesignWidth="450">
    <Window.Resources>
        <Style TargetType="Window">
            <Setter Property="Background" Value="#F5F5F5"/>
        </Style>
    </Window.Resources>
    
    <Border CornerRadius="8" 
            Background="White" 
            BorderBrush="#E0E0E0" 
            BorderThickness="1"
            Margin="0"
            Padding="0">
        <Border.Effect>
            <DropShadowEffect BlurRadius="10" 
                              ShadowDepth="3" 
                              Opacity="0.3" 
                              Color="Black"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- íƒ€ì´í‹€ ë°” -->
            <Border Grid.Row="0" 
                    Background="#2196F3" 
                    CornerRadius="8,8,0,0"
                    Padding="12,8"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" 
                               Text="ì„¤ì •" 
                               Foreground="White" 
                               FontSize="14" 
                               FontWeight="SemiBold"
                               VerticalAlignment="Center"/>
                    
                    <Button Grid.Column="1" 
                            Content="âœ•" 
                            Width="24" 
                            Height="24"
                            Padding="0"
                            FontSize="14"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="Transparent"
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="CloseButton_Click"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#1976D2"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>
            
            <!-- ì½˜í…ì¸  ì˜ì—­ -->
            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Disabled"
                          Padding="20">
                <StackPanel>
                    <!-- API Key ì„¹ì…˜ -->
                    <StackPanel Margin="0,0,0,20">
                        <TextBlock Text="API Key" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="#333"
                                   Margin="0,0,0,8"/>
                        <PasswordBox x:Name="ApiKeyPasswordBox"
                                     PasswordChanged="ApiKeyPasswordBox_PasswordChanged"
                                     Padding="8"
                                     FontSize="12"
                                     BorderBrush="#CCC"
                                     BorderThickness="1"
                                     Background="White"
                                     Margin="0,0,0,8"/>
                        <TextBlock Text="Gemini API í‚¤ë¥¼ ìž…ë ¥í•˜ì„¸ìš”. (apikey.txt íŒŒì¼ì— ì €ìž¥ë©ë‹ˆë‹¤)" 
                                   FontSize="11" 
                                   Foreground="#666"
                                   TextWrapping="Wrap"/>
                    </StackPanel>
                    
                    <!-- íŠ¸ë¦¬ê±° ë²„íŠ¼ ì„¹ì…˜ -->
                    <StackPanel Margin="0,0,0,20">
                        <TextBlock Text="íŠ¸ë¦¬ê±° ë²„íŠ¼" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="#333"
                                   Margin="0,0,0,8"/>
                        <ComboBox x:Name="TriggerButtonComboBox"
                                  SelectedItem="{Binding SelectedButton, Mode=TwoWay}"
                                  Padding="8"
                                  FontSize="12"
                                  BorderBrush="#CCC"
                                  BorderThickness="1"
                                  Background="White"
                                  Margin="0,0,0,8"
                                  SelectionChanged="TriggerButtonComboBox_SelectionChanged"/>
                        <TextBlock Text="ì›¹ì„œí•‘ ì¤‘ ë’¤ë¡œê°€ê¸°ê°€ ëˆŒë¦¬ëŠ” ê²Œ ì‹«ë‹¤ë©´ íœ  í´ë¦­ ë“±ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”." 
                                   FontSize="11" 
                                   Foreground="#666"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,8"/>
                        <TextBlock x:Name="LeftButtonWarning"
                                   Text="âš ï¸ ì¢Œí´ë¦­(Left)ì„ ì„ íƒí•˜ë©´ ì¼ë°˜ í´ë¦­ì´ ì•ˆ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (ë¹„ì¶”ì²œ)" 
                                   FontSize="11" 
                                   Foreground="#FF6B00"
                                   TextWrapping="Wrap"
                                   Visibility="Collapsed"/>
                    </StackPanel>
                    
                    <!-- ë°ì´í„° ê´€ë¦¬ ì„¹ì…˜ -->
                    <StackPanel>
                        <TextBlock Text="ë°ì´í„° ê´€ë¦¬" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="#333"
                                   Margin="0,0,0,8"/>
                        <Button Content="ðŸ“‚ ìž„ì‹œ íŒŒì¼ í´ë” ì—´ê¸°"
                                Command="{Binding OpenFolderCommand}"
                                Padding="12,8"
                                FontSize="12"
                                HorizontalAlignment="Left"
                                Background="#4CAF50"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,0,8">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="#4CAF50"/>
                                    <Setter Property="Foreground" Value="White"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#45A049"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <TextBlock Text="ìº¡ì²˜ëœ ì´ë¯¸ì§€ì™€ ë…¹ìŒëœ ì˜¤ë””ì˜¤ íŒŒì¼ì´ ì €ìž¥ëœ í´ë”ë¥¼ ì—½ë‹ˆë‹¤." 
                                   FontSize="11" 
                                   Foreground="#666"
                                   TextWrapping="Wrap"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
            
            <!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ -->
            <Border Grid.Row="2"
                    Background="#F9F9F9"
                    BorderBrush="#E0E0E0"
                    BorderThickness="0,1,0,0"
                    Padding="20,12">
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <Button Content="ì €ìž¥"
                            Command="{Binding SaveCommand}"
                            Padding="20,8"
                            FontSize="12"
                            FontWeight="SemiBold"
                            Background="#2196F3"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"
                            MinWidth="80"
                            Margin="0,0,10,0">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#2196F3"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#1976D2"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="ë‹«ê¸°"
                            Click="CloseButton_Click"
                            Padding="20,8"
                            FontSize="12"
                            Background="#E0E0E0"
                            Foreground="#333"
                            BorderThickness="0"
                            Cursor="Hand"
                            MinWidth="80">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#E0E0E0"/>
                                <Setter Property="Foreground" Value="#333"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#D0D0D0"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
